<!DOCTYPE html>
<html>
<head>
	<title>qf xuan</title>
</head>
<style type="text/css">
	* {
		margin: 0;
		padding: 0;
		list-style: none;
		outline: none;
	}
	.line {
		border: 1px solid #ccc;
		width: 300px;
	}
	.below {
		display: block;
		margin-left: 20px;
		margin-top: 10px;
	}
	#qx {
		margin-left: 20px;
		margin-top: 10px;
	}
</style>
<script type="text/javascript">
	window.onload = function () {
		var qbtn = document.getElementById('qx')
		var fbtn = document.getElementById('fx')
		var belows = document.getElementsByClassName('below')
		
		n = 0

		qbtn.onclick = function () {
			for (var a = 0; a < belows.length; a++){
				if (this.checked == true){
					belows[a].checked = true
				} else{
					belows[a].checked = false
				}
			}
		}

		fbtn.onclick = function (){
			for (var b = 0; b < belows.length; b++) {
				if (belows[b].checked == true) {
					belows[b].checked = false
					qbtn.checked = false
				}else{
					belows[b].checked = true
					fbtn.checked = true
				}
			}
		}
		for (var c =0; c < belows.length; c++){
			belows[c].onclick = function () {
				if (this.checked) {
					n++
				} else{
					n--
				}
				if (n == belows.length) {
					qbtn.checked = true
				} else {
					fbtn.checked = false
				}
			}
		}
	}
	
</script>
<body>
	<input type="checkbox" id="qx" name="">全选
	<input type="checkbox" id="fx" name="">反选
	<div class="line"></div>
	<input type="checkbox" class="below"></input>
	<input type="checkbox" class="below"></input>
	<input type="checkbox" class="below"></input>
	<input type="checkbox" class="below"></input>
</body>
</html>